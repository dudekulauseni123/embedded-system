\begin{abstract}
Through this manual, we will learn how to setting up the vaman-ESP as a Master and two arduinos as a Slave using I2C protocol. The two unknown resistances are measured by using two Arduinos and sending those two resistance values to Vaman through I2C and displaying the unkwnown Resistances on ESP-Webserver.
\end{abstract}
\subsection{Components}
\numberwithin{equation}{enumi}
\numberwithin{figure}{enumi}
%\numberwithin{table}{enumi}
\numberwithin{table}{section}
\begin{table}[H]
\centering
\input{./vaman/vaman-esp/I2C_resistance/figs/components7.tex}
\caption{Components}
\label{table:}
\end{table}
\subsection{Setting up one Master and two slaves}
\begin{enumerate}[label=\thesection.\arabic*.,ref=\thesection.\theenumi]
\numberwithin{equation}{enumi}
\numberwithin{figure}{enumi}
\numberwithin{table}{enumi}
\item
Connect the vaman-ESP pins to Arduino pins as per Table \ref{Table:1 vamanesp32-arduino}.
\begin{table}[H]
\centering
\input{./vaman/vaman-esp/I2C_resistance/figs/table1.tex}
\caption{}
\label{Table:1 vamanesp32-arduino}
\end{table}
\item The Vaman pin diagram is available in Fig. \ref{fig:vaman-pin_sheet}
\item
Configure Arduino Uno as a Slave-1 using the following code and upload it.\\
\begin{lstlisting}
vaman/vaman-esp/I2C_resistance/codes/I2C_Sender_Arduino1/src/main.cpp
\end{lstlisting}

\item
Configure Arduino Uno as a Slave-2 using the following code and upload it.\\
\begin{lstlisting}
vaman/vaman-esp/I2C_resistance/codes/I2C_Sender_Arduino2/src/main.cpp
\end{lstlisting}

\item
Now configure vaman-ESP as a Master using the following code and upload it.\\
\begin{lstlisting}
vaman/vaman-esp/I2C_resistance/codes/I2C_Reciever_ESP32/src/main.cpp
\end{lstlisting}
\end{enumerate}
\subsection{Measuring the resistance}
\begin{enumerate}[label=\thesection.\arabic*.,ref=\thesection.\theenumi]
\numberwithin{equation}{enumi}
\numberwithin{figure}{enumi}
\numberwithin{table}{enumi}

\item
Connect the 5V pin of the Vaman-ESP to an extreme pin of the Breadboard shown in Fig. %\ref{fig:breadboard}.  Let this pin be $V_{cc}$.
\item
Connect the GND pin of the Vaman-ESP to the opposite extreme pin of the Breadboard.

%
%
\item
Let $R_1$ be the known resistor of 1k ohm and $R_2$ be the unknown resistor. Connect $R_1$ and $R_2$ in series such that $R_1$ is connected
to $V_{cc}$ and $R_2$ is connected to GND. Refer to Fig. \ref{fig:voltage_divider} 
\item
Connect the junction between the two resistors to  the A0 pin on the Arduino board-1, which measures the first unknown resistance.
\item 
Connect another junction between the two resistors to  the A0 pin on the Arduino board-2, which measures the second unknown resistance.
\item
Now Power the Vaman board
\item
Execute the following code after editing the wifi credentials
\begin{lstlisting}
vaman/vaman-esp/I2C_resistance/codes/I2C_Reciever_ESP32
\end{lstlisting}
\end{enumerate}
\subsection{Displaying the Measured resistance on website}
\begin{enumerate}[label=\thesection.\arabic*.,ref=\thesection.\theenumi]
\numberwithin{equation}{enumi}
\numberwithin{figure}{enumi}
\numberwithin{table}{enumi}
\item The two unknown resistances are measured and diplayed the measured resistance on the Vaman-ESP webserver.
\item After flashing the code to vaman-ESP, the board will be connected to the wifi credentials provided.
\item Now connect the same WiFi credentials to the mobile phone for accessing the IP address, which can be accessed by 
\begin{lstlisting}
ifconfig
nmap -sn 192.168.x.x/24
\end{lstlisting}
\item Change the IP address in the second command accordingly with the IP address provided by first command.
\item By the above commands the IP address of vaman-ESP will be diplayed.
\item Now the vaman-ESP will be hosting a webserver
\item Inorder to access the webserver type the IP address of the vaman-ESP in the web browser.
\item In the website loaded by the IP address of vaman-ESP the two unknown resitances are displayed as shown in Fig. \ref{fig:website_results}
\end{enumerate}

\begin{figure}[H]
\centering
\includegraphics[width=\columnwidth]{./vaman/vaman-esp/I2C_resistance/figs/website.jpeg}
\caption{Website}
\label{fig:website_results}
\end{figure}
